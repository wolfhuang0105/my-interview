<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wolf Huang | Strategic Governance v25</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Noto+Sans+TC:wght@400;700;900&display=swap');
        
        :root {
            --primary: #2563eb;
            --dark: #0f172a;
        }

        body { 
            font-family: 'Inter', 'Noto Sans TC', sans-serif; 
            margin: 0;
            background-color: #0f172a;
            color: #1e293b;
            overflow: hidden; 
            height: 100vh;
            width: 100vw;
        }

        .slide-enter { 
            animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
        }
        @keyframes slideIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .modal-overlay {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(10px);
            z-index: 500;
        }

        .mega-nav-item {
            transition: all 0.2s ease;
            font-size: clamp(7px, 0.7vh, 9.5px);
        }
        .mega-nav-active {
            background: #2563eb !important;
            color: white !important;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
        }

        .responsive-title { font-size: clamp(0.95rem, 2.4vh, 1.8rem); }
        .responsive-point { font-size: clamp(0.6rem, 1.2vh, 0.85rem); }
        .responsive-script { font-size: clamp(0.7rem, 1.85vh, 2.1vh); line-height: 1.2; }

        .custom-scroll::-webkit-scrollbar { width: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        
        .nav-island {
            transform: translateY(0%); /* v25: 降至最低 */
            backdrop-filter: blur(15px);
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .glossary-link {
            color: #2563eb;
            border-bottom: 2px solid rgba(37, 99, 235, 0.4);
            cursor: pointer;
            font-weight: 900;
            padding: 1px 2px;
            margin: 0 1px;
            display: inline-block;
            transition: all 0.2s ease;
            border-radius: 4px;
            /* 擴大熱區 */
            position: relative;
            z-index: 20;
        }
        .glossary-link:active {
            background: rgba(37, 99, 235, 0.2);
            transform: scale(0.92);
        }

        .glossary-card {
            background: white;
            border-radius: 1.2rem;
            box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
            border: 1px solid #f1f5f9;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        const Icon = ({ name, size = 16, className = "" }) => {
            const spanRef = useRef(null);
            useEffect(() => {
                if (window.lucide && spanRef.current) {
                    window.lucide.createIcons();
                }
            }, [name, size, className]);
            return (
                <span ref={spanRef} className={`inline-flex shrink-0 items-center justify-center ${className}`} style={{ width: size, height: size }}>
                    <i data-lucide={name} style={{ width: size, height: size }}></i>
                </span>
            );
        };

        const App = () => {
            const [currentSlide, setCurrentSlide] = useState(0);
            const [isSpeaking, setIsSpeaking] = useState(false);
            const [scriptHistory, setScriptHistory] = useState({}); 
            const [activeVersions, setActiveVersions] = useState({}); 
            const [editingScript, setEditingScript] = useState(null); 
            const [activeTooltip, setActiveTooltip] = useState(null);

            const touchStartPos = useRef({ x: 0, y: 0 });
            const touchEndPos = useRef({ x: 0, y: 0 });

            const dictionary = useMemo(() => ({
                "PMP®": { full: "Project Management Professional", def: "The global gold standard of project management certification, emphasizing scalable governance and strategic execution.", mentions: [1, 2, 8] },
                "PMP": { full: "Project Management Professional", def: "A credential covering Agile, Predictive, and Hybrid project methodologies.", mentions: [1, 2, 8] },
                "ROI": { full: "Return on Investment", def: "A performance measure used to evaluate the efficiency of digital transformation.", mentions: [1, 8, 9] },
                "PMO": { full: "Project Management Office", def: "A strategic department that establishes standardization and risk control.", mentions: [2, 7, 8] },
                "DX": { full: "Digital Transformation", def: "Using technical innovations to reshape business logic.", mentions: [1, 3, 6, 8] },
                "PDM": { full: "Product Data Management", def: "Centralized management of all product-related data and workflow processes.", mentions: [4] },
                "PJM": { full: "Project Management System", def: "Operational execution platform used to track project status and resource allocation.", mentions: [4] },
                "SA": { full: "Systems Analyst", def: "Professional who designs system solutions to meet business requirements.", mentions: [5] },
                "FSC": { full: "Financial Supervisory Commission", def: "The top regulator for the financial industry, demanding high compliance.", mentions: [4] },
                "0 to 1": { full: "Ground-up Build", def: "The capability to establish sustainable mechanisms from scratch.", mentions: [3, 8] }
            }), []);

            const originalSlides = useMemo(() => [
                { id: "cover", type: "cover", title: "InterView GuideLine", subtitle: "Wolf Huang, PMP® | Strategic Governance", content: ["PMP® Certified", "15 Yrs Exp.", "Digital Transformation"], script: "Hi, I'm Wolf, a PMP-certified professional. I offer a solid one-two punch: the high-level PMP framework for governance and the hands-on technical skill to build the tools myself. I focus on delivering immediate results through automation and systems integration." },
                { id: "skills", title: "Key Skills Summary", type: "dual", left: { label: "EXPERIENCE SUMMARY", items: ["14 years managing DX rollouts and cross‑industry projects.", "Expertise in PMP framework for scalable governance.", "Hands-on technical skill to build automation tools."] }, right: { label: "INDIVIDUAL TRIPLE COMBO", reason: "Strategic Synergist", items: ["Bridging Business logic and Tech implementation.", "Delivering immediate results through automation.", "Integrated systems architecture from 0 to 1."] }, scriptLeft: "Hi, I'm Wolf, a PMP-certified professional. I offer a solid one-two punch: the high-level PMP framework for governance and the hands-on technical skill to build the tools myself.", scriptRight: "I focus on delivering immediate results through automation and systems integration. I bridge the gap between business strategy and execution." },
                { id: "analysis", title: "Self‑Analysis: Balanced View", type: "dual", left: { label: "CORE STRENGTHS", items: ["Implementation Power (Hands-on PMO).", "Turning individual knowledge into systems.", "Scalable Framework Execution."] }, right: { label: "GROWTH AREAS", reason: "Global Scaling", details: ["Expanding Western multinational exposure.", "Scaling professional foundation globally.", "Ready for larger corporate environments."] }, scriptLeft: "My strength is my implementation power. I'm a 'hands-on' PMO who builds the actual systems needed for success rather than just managing spreadsheets.", scriptRight: "My current growth area is expanding my experience with Western multinational teams. I have the professional foundation, and now I'm ready to scale my skills to a global level." },
                { id: "approach", title: "Strategy: Start to Scale", type: "dual", left: { label: "HOW I START (0 TO 1)", items: ["Turn tacit knowledge into replicable systems.", "Prevent knowledge silos from day one.", "Infrastructure setup in immature environments."] }, right: { label: "OUTLOOK & SCALING", reason: "Small Steps, Fast Pace", items: ["Quick optimizations to build team trust.", "Small Steps, Fast Pace visualized wins.", "Scaling iterative success into governance."] }, scriptLeft: "How do I start? I build from zero to one. I focus on turning what people know into systems. This prevents knowledge silos and builds scalable institutional memory.", scriptRight: "Using a 'small steps, fast pace' strategy, I deliver quick optimizations that build team trust from day one. It's about visible wins and iterative scaling." },
                { id: "softbi_combined", title: "Career Deep‑Dive: SoftBI", type: "dual", left: { label: "RESULT / IMPACT", items: ["Managed 50+ concurrent projects.", "Coordinated PDM/PJM synergy.", "Ensured 100% FSC compliance for banks."] }, right: { label: "EXIT REASON", reason: "Resource Mastery", details: ["Consolidation: Hours to Minutes.", "Mission finished in SME environment.", "Seeking larger-scale impact."] }, scriptLeft: "At SoftBI, I managed over 50 projects. I coordinated between PDM for roadmaps and PJM for execution. I handled high-end systems like Asset Management for bank clients, making sure everything followed the latest FSC regulations.", scriptRight: "I even automated the report consolidation from several hours to just a few minutes. I've finished my mission in the SME environment, and now I'm looking for a global company where I can use these skills on a larger scale." },
                { id: "gbjm_combined", title: "Career Deep‑Dive: GBJM", type: "dual", left: { label: "RESULT / IMPACT", items: ["Connected data islands from RFQ to QC.", "Bridged technical R&D pain points.", "Senior SA managing full lifecycle."] }, right: { label: "EXIT REASON", reason: "Heritage & Homecoming", details: ["Banking family executive background.", "Return to finance sector opportunity.", "Contribution of IT skills to banking."] }, scriptLeft: "At GBJM, I was a Senior SA connecting all the data islands from RFQ to quality control. The R&D team even tried to recruit me because I understood their pain points so well.", scriptRight: "Why did I leave? My mission was done. Since both my parents are high-level bank executives, I grew up in that environment. Returning to Taiwan to contribute my IT skills back to the finance sector was an opportunity I couldn't miss." },
                { id: "consulting_combined", title: "Career Deep‑Dive: Consulting", type: "dual", left: { label: "RESULT / IMPACT", items: ["Built Shanghai team from scratch.", "Built training portal (2x faster ramp).", "Promoted quickly as problem solver."] }, right: { label: "EXIT REASON", reason: "Client-Side Vision", details: ["Vision: Long-term optimization.", "Mastered cycle: Pre-sales to Ops.", "Seeking impact after 'Go-Live'."] }, scriptLeft: "In Shanghai, I built the team from scratch. I started in customer service and was promoted quickly because I solved problems others couldn't. I even built a training portal that made new hires productive twice as fast.", scriptRight: "After years of consulting, I wanted to go 'client-side.' I wanted to stay with a system after it goes live to see the real long-term optimization results, which is why I joined the manufacturing sector later." },
                { id: "philosophy", title: "Philosophy: Connecting the Dots", type: "dual", left: { label: "CAREER PILLARS", items: ["Music Studio grit: Zero resources.", "Trade logic: Economic foundations.", "IT: Implementation power."] }, right: { label: "THE WOLF DNA", reason: "Grit + Tech + Business", details: ["PMO who understands execution.", "Resilience: Surviving on grit.", "Business sense meets tech skill."] }, scriptLeft: "Steve Jobs once said you can only connect the dots looking backwards. For me, those dots are music, trade, and IT. Running a music studio taught me how to survive and solve problems with zero resources.", scriptRight: "Now, I combine that grit with my tech background to be a PMO who truly understands both the business side and the execution. I have the business sense and the tech skill to make things happen." },
                { id: "future_outlook", title: "Future Outlook: Mission & Goals", type: "dual", left: { label: "FUTURE MISSION", items: ["System Architect for global processes.", "Leveraging resources for real impact.", "Scalable models for global scaling."] }, right: { label: "GOAL & ROI", reason: "Final Stages Stage", items: ["Ready: End of February 2026.", "Final stages with TSMC and ASUS.", "Expectation: 1.4M+ NTD.", "Immediate ROI via Automation."] }, scriptLeft: "My goal is to be a system architect for global processes. I'm looking for a place with enough resources so I can make a real impact. I can start at the end of February.", scriptRight: "Right now, I'm in the final stages with TSMC and ASUS, but I'm looking for the team where I can contribute the most. My salary expectation is 1.4M plus, reflecting the immediate ROI I can bring through automation." },
                { id: "glossary_slide", title: "Glossary & Dictionary Pool", type: "glossary_interactive", categories: [{ label: "GOVERNANCE", keys: ["PMP®", "PMO", "ROI"] }, { label: "SYSTEMS", keys: ["DX", "PDM", "PJM"] }, { label: "PROCESS", keys: ["SA", "FSC", "0 to 1"] }], script: "I'm ready to start in late February. I'm currently in the interview stage with other companies, but I'm very interested in the impact I can make here. I'm looking for 1.4 million plus, based on the ROI I bring." }
            ], []);

            const navStructure = [
                { id: 1, title: "I. INTRO", slides: [1, 2, 3], labels: ["Skills", "Analysis", "Approach"] },
                { id: 2, title: "II. HISTORY", slides: [4, 5, 6, 7], labels: ["SoftBI", "GBJM", "CONSULT", "Philosophy"] },
                { id: 3, title: "III. VISION", slides: [8], labels: ["Outlook"] },
                { id: 4, title: "IV. APPX", slides: [9], labels: ["Glossary"] }
            ];

            const getScriptText = (slideId, type) => {
                const verIdx = activeVersions[slideId]?.[type];
                const history = scriptHistory[slideId]?.[type];
                if (verIdx !== undefined && history && history[verIdx]) return history[verIdx].text;
                const slide = originalSlides.find(s => s.id === slideId);
                if (type === 'single') return slide.script;
                return slide[`script${type.charAt(0).toUpperCase() + type.slice(1)}`];
            };

            const goToSlide = (idx) => { setCurrentSlide(idx); window.speechSynthesis.cancel(); setIsSpeaking(false); setActiveTooltip(null); };

            const speak = (text, lang = 'en-US') => {
                window.speechSynthesis.cancel();
                if (isSpeaking) { setIsSpeaking(false); return; }
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang;
                utterance.rate = 0.95;
                utterance.onend = () => setIsSpeaking(false);
                window.speechSynthesis.speak(utterance);
                setIsSpeaking(true);
            };

            const handleTouchStart = (e) => { 
                touchStartPos.current = { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY }; 
            };
            const handleTouchMove = (e) => { 
                touchEndPos.current = { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY }; 
            };
            const handleTouchEnd = () => {
                if (activeTooltip || editingScript) return; 
                
                const deltaX = touchStartPos.current.x - touchEndPos.current.x;
                const deltaY = touchStartPos.current.y - touchEndPos.current.y;
                
                // v25 關鍵防誤觸判定：只有當水平移動大於 60px 且垂直移動較小時才觸發翻頁
                if (Math.abs(deltaX) > 60 && Math.abs(deltaX) > Math.abs(deltaY)) {
                    if (deltaX > 0) goToSlide(Math.min(originalSlides.length - 1, currentSlide + 1));
                    else goToSlide(Math.max(0, currentSlide - 1));
                }
                
                // 重置座標
                touchStartPos.current = { x: 0, y: 0 };
                touchEndPos.current = { x: 0, y: 0 };
            };

            const setVersion = (slideId, type, idx) => { setActiveVersions(prev => ({ ...prev, [slideId]: { ...(prev[slideId] || {}), [type]: idx } })); };

            const saveEdit = () => {
                if (!editingScript) return;
                const { slideId, type, text } = editingScript;
                const history = scriptHistory[slideId]?.[type] || [];
                const newHistory = [...history, { text, timestamp: new Date().toLocaleTimeString() }];
                setScriptHistory(prev => ({ ...prev, [slideId]: { ...(prev[slideId] || {}), [type]: newHistory } }));
                setVersion(slideId, type, newHistory.length - 1);
                setEditingScript(null);
            };

            const FormattedText = ({ text }) => {
                if (!text) return null;
                const keys = Object.keys(dictionary).sort((a, b) => b.length - a.length);
                const regex = new RegExp(`(\\b(?:${keys.map(k => k.replace(/[®]/g, '®?')).join('|')})\\b)`, 'g');
                const parts = text.split(regex);
                return (
                    <span>
                        {parts.map((part, i) => (
                            dictionary[part] ? (
                                <span key={i} className="glossary-link" onClick={(e) => {
                                    e.stopPropagation();
                                    e.preventDefault();
                                    setActiveTooltip({ term: part, ...dictionary[part] });
                                }}>{part}</span>
                            ) : part
                        ))}
                    </span>
                );
            };

            const TermCard = ({ term, entry, isModal = false, onClose = null }) => (
                <div className={`${isModal ? 'bg-white p-5 rounded-[2rem] shadow-2xl border border-blue-100 max-w-xs w-[85vw]' : 'p-2 glossary-card flex flex-col gap-0.5'}`} onClick={(e) => e.stopPropagation()}>
                    <div className="flex justify-between items-start">
                        <div className="px-1.5 py-0.5 bg-blue-600 text-white rounded text-[7px] font-black uppercase tracking-wider">{term}</div>
                        {isModal && <button onClick={(e) => { e.stopPropagation(); onClose(); }} className="p-1 text-slate-300 hover:text-rose-500"><Icon name="x" size={16}/></button>}
                    </div>
                    <div className="flex items-center justify-between gap-1">
                        <h4 className={`${isModal ? 'text-sm' : 'text-[9px]'} font-black text-slate-900 leading-tight`}>{entry.full}</h4>
                        <button onClick={(e) => { e.stopPropagation(); speak(entry.full, 'en-US'); }} className="shrink-0 p-1 bg-blue-50 text-blue-600 rounded active:scale-90"><Icon name="volume-2" size={12}/></button>
                    </div>
                    <div className="bg-slate-50 p-1.5 rounded-lg relative">
                        <p className="text-[8.5px] text-slate-500 font-bold italic leading-snug pr-5">{entry.def}</p>
                        <button onClick={(e) => { e.stopPropagation(); speak(entry.def, 'en-US'); }} className="absolute top-1 right-1 p-0.5 bg-white border border-slate-100 text-slate-400 rounded active:scale-90"><Icon name="play" size={8}/></button>
                    </div>
                    <div className="pt-0.5 border-t border-slate-100 mt-0.5 flex flex-wrap gap-1 items-center">
                        <span className="text-[6px] font-black text-slate-300 uppercase">Slide:</span>
                        {entry.mentions.map(m => <button key={m} onClick={(e) => { e.stopPropagation(); goToSlide(m); }} className="px-1 py-0.5 bg-slate-100 text-slate-600 rounded text-[7.5px] font-black active:scale-90">#P{m}</button>)}
                    </div>
                </div>
            );

            const slide = originalSlides[currentSlide];
            const activeScripts = { single: getScriptText(slide.id, 'single'), left: getScriptText(slide.id, 'left'), right: getScriptText(slide.id, 'right') };
            const shouldShowScript = (activeScripts.single || activeScripts.left) && slide.type !== "glossary_interactive";

            return (
                <div className="flex flex-col h-screen bg-[#0f172a] text-slate-800 relative overflow-hidden" onTouchStart={handleTouchStart} onTouchMove={handleTouchMove} onTouchEnd={handleTouchEnd}>
                    
                    {editingScript && (
                        <div className="fixed inset-0 modal-overlay flex items-center justify-center p-4 z-[600]" onClick={(e) => e.stopPropagation()}>
                            <div className="bg-white w-full max-w-2xl rounded-[2rem] shadow-2xl p-6 flex flex-col gap-4 slide-enter" onClick={(e) => e.stopPropagation()}>
                                <div className="flex justify-between items-center border-b pb-2">
                                    <h3 className="font-black text-sm text-slate-800 uppercase flex items-center gap-2"><Icon name="edit-3" size={16} className="text-blue-600" /> Version Control</h3>
                                    <button onClick={() => setEditingScript(null)} className="p-2 text-slate-300 hover:text-rose-600"><Icon name="x" size={18} /></button>
                                </div>
                                <textarea 
                                    className="w-full h-40 p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700 italic outline-none focus:ring-2 focus:ring-blue-500 custom-scroll text-sm leading-relaxed"
                                    value={editingScript.text} 
                                    onChange={(e) => setEditingScript({...editingScript, text: e.target.value})} 
                                />
                                <div className="flex justify-between items-center">
                                    <button onClick={(e) => { e.stopPropagation(); restoreDefault(editingScript.slideId, editingScript.type); }} className="px-3 py-1.5 bg-rose-50 text-rose-600 rounded-lg text-[8px] font-black border border-rose-100 uppercase active:scale-95">Restore</button>
                                    <div className="flex gap-2">
                                        <button onClick={() => setEditingScript(null)} className="px-4 py-1.5 font-bold text-slate-400 text-xs">Cancel</button>
                                        <button onClick={saveEdit} className="px-5 py-1.5 bg-blue-600 text-white rounded-lg font-black shadow-lg active:scale-95 text-xs">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {activeTooltip && (
                        <div className="fixed inset-0 z-[100] bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6" onClick={(e) => { e.stopPropagation(); setActiveTooltip(null); }}>
                            <div className="slide-enter pointer-events-auto">
                                <TermCard term={activeTooltip.term} entry={activeTooltip} isModal={true} onClose={() => setActiveTooltip(null)} />
                            </div>
                        </div>
                    )}

                    {/* 頂部導覽 - v25: 下移至 4.5vh 確保安全距離，完全讓出頂部空間 */}
                    <nav className="shrink-0 bg-[#0f172a] border-b border-slate-800 p-2 z-50 shadow-xl mt-[4.5vh]">
                        <div className="max-w-6xl mx-auto grid grid-cols-4 gap-1">
                            {navStructure.map(part => (
                                <div key={part.id} className="flex flex-col gap-0.5">
                                    <div className="text-[6px] font-black text-slate-500 uppercase tracking-widest px-1 flex items-center gap-1">
                                        <div className={`w-0.5 h-0.5 rounded-full ${part.slides.includes(currentSlide) ? 'bg-blue-500 shadow-[0_0_8px_#3b82f6]' : 'bg-slate-700'}`}></div> {part.title}
                                    </div>
                                    <div className="flex flex-wrap gap-0.5">
                                        {part.slides.map((sIdx, i) => (
                                            <button key={sIdx} onClick={() => goToSlide(sIdx)}
                                                className={`mega-nav-item px-1 py-0.5 rounded-sm font-bold uppercase transition-all ${currentSlide === sIdx ? 'mega-nav-active' : 'bg-slate-800/40 text-slate-500'}`}
                                            > {part.labels[i]} </button>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </nav>

                    <main className="flex-1 flex flex-col bg-[#f8fafc] relative overflow-hidden">
                        <div className="px-4 py-1 bg-white border-b border-slate-100 flex items-center justify-between shrink-0">
                            <div className="flex items-center gap-2 text-[6.5px] font-black text-slate-400 uppercase tracking-widest">
                                <Icon name="shield-check" className="text-blue-600" /> <span>v25_Safe_Layout_Interactive_Fix</span>
                                <Icon name="chevron-right" className="text-slate-200" /> <span className="text-blue-600">{slide.title}</span>
                            </div>
                        </div>

                        {/* 主視覺區 - 保持穩定比例 */}
                        <section className={`flex flex-col items-center justify-center p-2.5 md:px-12 bg-white/40 layout-transition overflow-hidden ${shouldShowScript ? 'h-[32%]' : 'h-full'}`}>
                            <div className="w-full max-w-5xl slide-enter h-full flex flex-col justify-center">
                                {slide.type === "cover" ? (
                                    <div className="text-center space-y-1.5">
                                        <Icon name="globe" className="text-blue-600 mx-auto" size={18} />
                                        <h2 className="responsive-title font-black text-slate-900 tracking-tighter leading-none">{slide.title}</h2>
                                        <p className="text-[8px] md:text-xs text-blue-600 font-bold uppercase tracking-[0.2em]">{slide.subtitle}</p>
                                    </div>
                                ) : slide.type === "dual" ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-2 h-full py-0.5">
                                        <div className="bg-white p-2 rounded-xl border border-blue-50 shadow-sm flex flex-col overflow-hidden">
                                            <h3 className="text-blue-600 font-black text-[7.5px] mb-0.5 uppercase tracking-widest">{slide.left.label}</h3>
                                            <div className="space-y-0.5 overflow-y-auto no-scrollbar">
                                                {(slide.left.items || []).map((it, i) => <div key={i} className="flex items-start gap-1"><div className="mt-1 w-0.5 h-0.5 rounded-full bg-blue-400 shrink-0" /><span className="responsive-point font-bold text-slate-700 leading-tight"><FormattedText text={it}/></span></div>)}
                                            </div>
                                        </div>
                                        <div className="bg-slate-50 p-2 rounded-xl border border-slate-100 flex flex-col overflow-hidden">
                                            <h3 className="text-slate-600 font-black text-[7.5px] mb-0.5 uppercase tracking-widest">{slide.right.label}</h3>
                                            <div className="space-y-0.5 overflow-y-auto no-scrollbar">
                                                {slide.right.reason && <div className="text-blue-700 font-black text-[7.5px] uppercase">{slide.right.reason}</div>}
                                                {(slide.right.items || slide.right.details || []).map((it, i) => <div key={i} className="flex items-start gap-1"><div className="mt-1 w-0.5 h-0.5 rounded-full bg-emerald-500 shrink-0" /><span className="responsive-point font-bold text-slate-800 leading-tight"><FormattedText text={it}/></span></div>)}
                                            </div>
                                        </div>
                                    </div>
                                ) : slide.type === "glossary_interactive" ? (
                                    <div className="grid grid-cols-1 sm:grid-cols-3 gap-2.5 h-full py-2">
                                        {slide.categories.map((cat, i) => (
                                            <div key={i} className="bg-white/60 p-2 rounded-2xl border border-slate-100 flex flex-col overflow-hidden shadow-inner">
                                                <h3 className="text-blue-600 font-black text-[8px] mb-1.5 border-b border-blue-100 pb-1 uppercase flex items-center gap-1"><Icon name="book-open" size={10}/> {cat.label}</h3>
                                                <div className="space-y-2 overflow-y-auto no-scrollbar">
                                                    {cat.keys.map((key, j) => <div key={j} className="slide-enter"><TermCard term={key} entry={dictionary[key]} /></div>)}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                ) : null}
                            </div>
                        </section>

                        {/* 腳本區 - v25: 減少頂部 Padding (pt-2)，優化空間權益 */}
                        {shouldShowScript && (
                            <section className="flex-1 bg-[#0f172a] border-t border-slate-800 flex flex-col relative z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] overflow-hidden">
                                <div className="flex-1 pt-2 pb-4 px-4 md:p-10 lg:px-16 flex flex-col justify-center">
                                    {activeScripts.left !== undefined ? (
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3 lg:gap-14 max-w-7xl mx-auto w-full">
                                            {['left', 'right'].map(type => (
                                                <div key={type} className="space-y-1">
                                                    <div className="flex items-center justify-between border-b border-slate-800 pb-1">
                                                        <span className={`text-[7px] font-black uppercase tracking-widest ${type === 'left' ? 'text-blue-500' : 'text-emerald-500'}`}>SPEECH: {type.toUpperCase()}</span>
                                                        <button onClick={(e) => { e.stopPropagation(); setEditingScript({slideId: slide.id, type, text: getScriptText(slide.id, type)}); }} className="text-slate-500 hover:text-white"><Icon name="edit-3" size={8}/></button>
                                                    </div>
                                                    <p className="responsive-script italic leading-tight font-black text-slate-100 opacity-95 text-center md:text-left">
                                                        "<FormattedText text={getScriptText(slide.id, type)} />"
                                                    </p>
                                                </div>
                                            ))}
                                        </div>
                                    ) : (
                                        <div className="max-w-5xl mx-auto text-center">
                                            <div className="flex items-center justify-between max-w-xs mx-auto mb-1 opacity-20">
                                                <div className="h-[0.5px] w-6 bg-slate-700"></div>
                                                <button onClick={(e) => { e.stopPropagation(); setEditingScript({slideId: slide.id, type: 'single', text: getScriptText(slide.id, 'single')}); }} className="text-slate-500 hover:text-white"><Icon name="edit-3" size={9}/></button>
                                                <div className="h-[0.5px] w-6 bg-slate-700"></div>
                                            </div>
                                            <p className="responsive-script italic text-slate-50 leading-tight font-black opacity-95">
                                                "<FormattedText text={getScriptText(slide.id, 'single')} />"
                                            </p>
                                        </div>
                                    )}
                                </div>
                                
                                {/* 播放控制座 */}
                                <div className="px-3 py-2 bg-slate-900/60 backdrop-blur-md flex flex-col items-center gap-1.5 shrink-0 border-t border-slate-800/30">
                                    <div className="flex flex-wrap justify-center gap-3">
                                        {slide.scriptLeft !== undefined ? (
                                            ['left', 'right'].map(type => (
                                                <div key={type} className="flex flex-col items-center gap-0.5">
                                                    <div className="flex gap-1">
                                                        <button onClick={(e) => { e.stopPropagation(); setVersion(slide.id, type, undefined); }} className={`px-1.5 py-0.5 rounded text-[6.5px] font-black border ${activeVersions[slide.id]?.[type] === undefined ? 'bg-blue-600 text-white border-blue-600' : 'text-slate-500 border-slate-700'}`}>DEF</button>
                                                        {(scriptHistory[slide.id]?.[type] || []).map((_, i) => <button key={i} onClick={(e) => { e.stopPropagation(); setVersion(slide.id, type, i); }} className={`px-1.5 py-0.5 rounded text-[6.5px] font-black border ${activeVersions[slide.id]?.[type] === i ? 'bg-blue-600 text-white border-blue-600' : 'text-slate-500 border-slate-700'}`}>V{i+1}</button>)}
                                                    </div>
                                                    <button onClick={(e) => { e.stopPropagation(); speak(getScriptText(slide.id, type), 'en-US'); }} className={`px-4 py-1 rounded-full text-[8.5px] font-black shadow-lg flex items-center gap-1.5 active:scale-95 ${type === 'left' ? 'bg-blue-600' : 'bg-emerald-600'} text-white`}><Icon name={isSpeaking ? "square" : "play"} size={10}/> PLAY {type.toUpperCase()}</button>
                                                </div>
                                            ))
                                        ) : (
                                            <div className="flex flex-col items-center gap-1">
                                                <div className="flex gap-1.5">
                                                    <button onClick={(e) => { e.stopPropagation(); setVersion(slide.id, 'single', undefined); }} className={`px-2 py-0.5 rounded-md text-[7px] font-black border ${activeVersions[slide.id]?.single === undefined ? 'bg-blue-600 text-white border-blue-600' : 'text-slate-500 border-slate-700'}`}>DEFAULT</button>
                                                    {(scriptHistory[slide.id]?.single || []).map((_, i) => <button key={i} onClick={(e) => { e.stopPropagation(); setVersion(slide.id, 'single', i); }} className={`px-2 py-0.5 rounded-md text-[7px] font-black border ${activeVersions[slide.id]?.single === i ? 'bg-blue-600 text-white border-blue-600' : 'text-slate-500 border-slate-700'}`}>VER {i+1}</button>)}
                                                </div>
                                                <button onClick={(e) => { e.stopPropagation(); speak(getScriptText(slide.id, 'single'), 'en-US'); }} className="px-8 py-1.5 bg-blue-600 text-white rounded-full text-[9px] font-black shadow-xl active:scale-95 flex items-center gap-2"><Icon name={isSpeaking ? "square" : "play"} size={12}/> START PLAYBACK</button>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                <div className="h-0.5 bg-slate-900 shrink-0"></div>
                            </section>
                        )}
                    </main>

                    {/* 導航島 v25: 置底對齊，移除額外抬升，騰出安全感 */}
                    <footer className="h-9 shrink-0 bg-transparent flex items-start justify-center px-4 relative z-[60]">
                        <div className="nav-island w-full max-w-[250px] h-7.5 rounded-lg flex items-center justify-between px-3 shadow-lg">
                            <button onClick={() => goToSlide(Math.max(0, currentSlide - 1))} disabled={currentSlide === 0}
                                className="flex items-center gap-1 px-1 py-1 text-slate-400 disabled:opacity-0 font-black uppercase text-[6.5px] tracking-widest active:scale-90"
                            >
                                <Icon name="chevron-left" size={8}/> PREV
                            </button>
                            <div className="flex gap-1">
                                {originalSlides.map((_, i) => <button key={i} onClick={() => goToSlide(i)} className={`h-0.5 rounded-full transition-all duration-300 ${i === currentSlide ? 'w-3 bg-blue-600' : 'w-1 bg-slate-300'}`} />)}
                            </div>
                            <button onClick={() => goToSlide((currentSlide + 1) % originalSlides.length)} 
                                className="flex items-center gap-1 px-2 py-1 bg-slate-900 text-white rounded-md text-[6.5px] font-black active:scale-90 shadow-md"
                            >
                                NEXT <Icon name="arrow-right" size={8} />
                            </button>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
